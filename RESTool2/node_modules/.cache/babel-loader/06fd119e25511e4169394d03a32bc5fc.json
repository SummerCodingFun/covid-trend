{"ast":null,"code":"import _classCallCheck from\"/Users/claire/RESTool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/claire/RESTool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/claire/RESTool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/claire/RESTool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/claire/RESTool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import ReactDOM from'react-dom';import'./popup.scss';var portalRoot=document.getElementById('popup-portal');if(!portalRoot){portalRoot=document.createElement('div');portalRoot.setAttribute('id','popup-portal');document.body.append(portalRoot);}var PortalPopup=/*#__PURE__*/function(_Component){_inherits(PortalPopup,_Component);function PortalPopup(props){var _this;_classCallCheck(this,PortalPopup);_this=_possibleConstructorReturn(this,_getPrototypeOf(PortalPopup).call(this,props));_this.el=void 0;_this.componentDidMount=function(){portalRoot.appendChild(_this.el);};_this.componentWillUnmount=function(){portalRoot.removeChild(_this.el);};_this.el=document.createElement('div');return _this;}_createClass(PortalPopup,[{key:\"render\",value:function render(){return ReactDOM.createPortal(this.props.children,this.el);}}]);return PortalPopup;}(Component);export var Popup=/*#__PURE__*/function(_Component2){_inherits(Popup,_Component2);function Popup(){var _getPrototypeOf2;var _this2;_classCallCheck(this,Popup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this2=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Popup)).call.apply(_getPrototypeOf2,[this].concat(args)));_this2._handleKeyDown=function(e){var _this2$props=_this2.props,show=_this2$props.show,closeCallback=_this2$props.closeCallback;if(show&&e.keyCode===27){closeCallback(e);}};return _this2;}_createClass(Popup,[{key:\"render\",value:function render(){var _this$props$customLab,_this$props$customLab2,_this3=this;var style=Object.assign({},{display:this.props.show?'block':'none'},this.props.style||{});var closeLabel=((_this$props$customLab=this.props.customLabels)===null||_this$props$customLab===void 0?void 0:(_this$props$customLab2=_this$props$customLab.buttons)===null||_this$props$customLab2===void 0?void 0:_this$props$customLab2.closeForm)||'Close';return React.createElement(PortalPopup,null,this.props.show?React.createElement(\"div\",{className:\"popup \".concat(this.props.className||''),style:style},React.createElement(\"div\",{className:\"overlay\",onClick:function onClick(e){return _this3.props.closeCallback(e);}}),React.createElement(\"div\",{className:\"popup-content\",ref:this.props.refCallback},this.props.children,React.createElement(\"button\",{title:closeLabel,className:\"close-popup\",onClick:function onClick(e){return _this3.props.closeCallback(e);}},React.createElement(\"i\",{className:\"fa fa-times\",\"aria-hidden\":\"true\"})))):null);}},{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('keydown',this._handleKeyDown.bind(this));}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('keydown',this._handleKeyDown.bind(this));}}]);return Popup;}(Component);;","map":{"version":3,"sources":["/Users/claire/RESTool/src/components/popup/popup.comp.tsx"],"names":["React","Component","ReactDOM","portalRoot","document","getElementById","createElement","setAttribute","body","append","PortalPopup","props","el","componentDidMount","appendChild","componentWillUnmount","removeChild","createPortal","children","Popup","_handleKeyDown","e","show","closeCallback","keyCode","style","Object","assign","display","closeLabel","customLabels","buttons","closeForm","className","refCallback","addEventListener","bind","removeEventListener"],"mappings":"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","sourcesContent":["import React, { Component, RefObject, ReactChild } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './popup.scss';\nimport { ICustomLabels } from '../../common/models/config.model';\n\ninterface IPopupProps {\n  className?: string\n  style?: any\n  show: boolean\n  closeCallback: any\n  children: ReactChild\n  refCallback?: string | ((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined\n  customLabels?: ICustomLabels\n}\n\nlet portalRoot: HTMLDivElement = document.getElementById('popup-portal') as HTMLDivElement;\nif (!portalRoot) {\n  portalRoot = document.createElement('div');\n  portalRoot.setAttribute('id', 'popup-portal');\n  document.body.append(portalRoot);\n}\n\nclass PortalPopup extends Component {\n  private el: HTMLElement;\n\n  constructor(props: any) {\n    super(props);\n\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount = () => {\n    portalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount = () => {\n    portalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n}\n\nexport class Popup extends Component<IPopupProps> {\n  render() {\n    const style: any = Object.assign({}, { display: this.props.show ? 'block' : 'none' }, this.props.style || {});\n    const closeLabel = this.props.customLabels?.buttons?.closeForm || 'Close';\n\n    return (\n      <PortalPopup>\n        {\n          this.props.show ?\n            <div className={`popup ${this.props.className || ''}`} style={style}>\n              <div className=\"overlay\" onClick={(e: any) => this.props.closeCallback(e)}></div>\n              <div className=\"popup-content\" ref={this.props.refCallback}>\n                {this.props.children}\n                <button title={closeLabel} className=\"close-popup\" onClick={(e: any) => this.props.closeCallback(e)}>\n                  <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n                </button>\n              </div>\n            </div> :\n            null\n        }\n      </PortalPopup>\n    );\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this._handleKeyDown.bind(this));\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this._handleKeyDown.bind(this));\n  }\n\n  _handleKeyDown = (e: KeyboardEvent) => {\n    const { show, closeCallback } = this.props;\n\n    if (show && e.keyCode === 27) {\n      closeCallback(e);\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}