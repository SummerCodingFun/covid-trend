{"ast":null,"code":"var _jsxFileName = \"/Users/claire/Desktop/covid-trend/RESTool/src/components/popup/popup.comp.tsx\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport './popup.scss';\nlet portalRoot = document.getElementById('popup-portal');\n\nif (!portalRoot) {\n  portalRoot = document.createElement('div');\n  portalRoot.setAttribute('id', 'popup-portal');\n  document.body.append(portalRoot);\n}\n\nclass PortalPopup extends Component {\n  constructor(props) {\n    super(props);\n    this.el = void 0;\n\n    this.componentDidMount = () => {\n      portalRoot.appendChild(this.el);\n    };\n\n    this.componentWillUnmount = () => {\n      portalRoot.removeChild(this.el);\n    };\n\n    this.el = document.createElement('div');\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n\n}\n\nexport class Popup extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this._handleKeyDown = e => {\n      const _this$props = this.props,\n            show = _this$props.show,\n            closeCallback = _this$props.closeCallback;\n\n      if (show && e.keyCode === 27) {\n        closeCallback(e);\n      }\n    };\n  }\n\n  render() {\n    var _this$props$customLab, _this$props$customLab2;\n\n    const style = Object.assign({}, {\n      display: this.props.show ? 'block' : 'none'\n    }, this.props.style || {});\n    const closeLabel = ((_this$props$customLab = this.props.customLabels) === null || _this$props$customLab === void 0 ? void 0 : (_this$props$customLab2 = _this$props$customLab.buttons) === null || _this$props$customLab2 === void 0 ? void 0 : _this$props$customLab2.closeForm) || 'Close';\n    return React.createElement(PortalPopup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, this.props.show ? React.createElement(\"div\", {\n      className: `popup ${this.props.className || ''}`,\n      style: style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"overlay\",\n      onClick: e => this.props.closeCallback(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"popup-content\",\n      ref: this.props.refCallback,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.props.children, React.createElement(\"button\", {\n      title: closeLabel,\n      className: \"close-popup\",\n      onClick: e => this.props.closeCallback(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-times\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })))) : null);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this._handleKeyDown.bind(this));\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this._handleKeyDown.bind(this));\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/claire/Desktop/covid-trend/RESTool/src/components/popup/popup.comp.tsx"],"names":["React","Component","ReactDOM","portalRoot","document","getElementById","createElement","setAttribute","body","append","PortalPopup","constructor","props","el","componentDidMount","appendChild","componentWillUnmount","removeChild","render","createPortal","children","Popup","_handleKeyDown","e","show","closeCallback","keyCode","style","Object","assign","display","closeLabel","customLabels","buttons","closeForm","className","refCallback","addEventListener","bind","removeEventListener"],"mappings":"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","sourcesContent":["import React, { Component, RefObject, ReactChild } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './popup.scss';\nimport { ICustomLabels } from '../../common/models/config.model';\n\ninterface IPopupProps {\n  className?: string\n  style?: any\n  show: boolean\n  closeCallback: any\n  children: ReactChild\n  refCallback?: string | ((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined\n  customLabels?: ICustomLabels\n}\n\nlet portalRoot: HTMLDivElement = document.getElementById('popup-portal') as HTMLDivElement;\nif (!portalRoot) {\n  portalRoot = document.createElement('div');\n  portalRoot.setAttribute('id', 'popup-portal');\n  document.body.append(portalRoot);\n}\n\nclass PortalPopup extends Component {\n  private el: HTMLElement;\n\n  constructor(props: any) {\n    super(props);\n\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount = () => {\n    portalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount = () => {\n    portalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n}\n\nexport class Popup extends Component<IPopupProps> {\n  render() {\n    const style: any = Object.assign({}, { display: this.props.show ? 'block' : 'none' }, this.props.style || {});\n    const closeLabel = this.props.customLabels?.buttons?.closeForm || 'Close';\n\n    return (\n      <PortalPopup>\n        {\n          this.props.show ?\n            <div className={`popup ${this.props.className || ''}`} style={style}>\n              <div className=\"overlay\" onClick={(e: any) => this.props.closeCallback(e)}></div>\n              <div className=\"popup-content\" ref={this.props.refCallback}>\n                {this.props.children}\n                <button title={closeLabel} className=\"close-popup\" onClick={(e: any) => this.props.closeCallback(e)}>\n                  <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n                </button>\n              </div>\n            </div> :\n            null\n        }\n      </PortalPopup>\n    );\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this._handleKeyDown.bind(this));\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this._handleKeyDown.bind(this));\n  }\n\n  _handleKeyDown = (e: KeyboardEvent) => {\n    const { show, closeCallback } = this.props;\n\n    if (show && e.keyCode === 27) {\n      closeCallback(e);\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}